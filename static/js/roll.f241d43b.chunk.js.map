{"version":3,"sources":["webpack:///static/js/roll.f241d43b.chunk.js","webpack:///./~/@axetroy/roll/dist/roll.js"],"names":["webpackJsonp","457","module","exports","__webpack_require__","root","factory","this","modules","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","throwError","msg","Error","_typeof","Symbol","iterator","obj","constructor","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","Roll","_","item","arguments","undefined","rank","rankType","push","totalRank","random","Math","result","items","slice","map","start","shift","end"],"mappings":"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","file":"static/js/roll.f241d43b.chunk.js","sourcesContent":["webpackJsonp([9,10],{\n\n/***/ 457:\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function webpackUniversalModuleDefinition(root, factory) {\n\t\tif(true)\n\t\t\tmodule.exports = factory();\n\t\telse if(typeof define === 'function' && define.amd)\n\t\t\tdefine([], factory);\n\t\telse if(typeof exports === 'object')\n\t\t\texports[\"Roll\"] = factory();\n\t\telse\n\t\t\troot[\"Roll\"] = factory();\n\t})(this, function() {\n\treturn /******/ (function(modules) { // webpackBootstrap\n\t/******/ \t// The module cache\n\t/******/ \tvar installedModules = {};\n\t/******/\n\t/******/ \t// The require function\n\t/******/ \tfunction __webpack_require__(moduleId) {\n\t/******/\n\t/******/ \t\t// Check if module is in cache\n\t/******/ \t\tif(installedModules[moduleId])\n\t/******/ \t\t\treturn installedModules[moduleId].exports;\n\t/******/\n\t/******/ \t\t// Create a new module (and put it into the cache)\n\t/******/ \t\tvar module = installedModules[moduleId] = {\n\t/******/ \t\t\ti: moduleId,\n\t/******/ \t\t\tl: false,\n\t/******/ \t\t\texports: {}\n\t/******/ \t\t};\n\t/******/\n\t/******/ \t\t// Execute the module function\n\t/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\t/******/\n\t/******/ \t\t// Flag the module as loaded\n\t/******/ \t\tmodule.l = true;\n\t/******/\n\t/******/ \t\t// Return the exports of the module\n\t/******/ \t\treturn module.exports;\n\t/******/ \t}\n\t/******/\n\t/******/\n\t/******/ \t// expose the modules object (__webpack_modules__)\n\t/******/ \t__webpack_require__.m = modules;\n\t/******/\n\t/******/ \t// expose the module cache\n\t/******/ \t__webpack_require__.c = installedModules;\n\t/******/\n\t/******/ \t// identity function for calling harmony imports with the correct context\n\t/******/ \t__webpack_require__.i = function(value) { return value; };\n\t/******/\n\t/******/ \t// define getter function for harmony exports\n\t/******/ \t__webpack_require__.d = function(exports, name, getter) {\n\t/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n\t/******/ \t\t\tObject.defineProperty(exports, name, {\n\t/******/ \t\t\t\tconfigurable: false,\n\t/******/ \t\t\t\tenumerable: true,\n\t/******/ \t\t\t\tget: getter\n\t/******/ \t\t\t});\n\t/******/ \t\t}\n\t/******/ \t};\n\t/******/\n\t/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n\t/******/ \t__webpack_require__.n = function(module) {\n\t/******/ \t\tvar getter = module && module.__esModule ?\n\t/******/ \t\t\tfunction getDefault() { return module['default']; } :\n\t/******/ \t\t\tfunction getModuleExports() { return module; };\n\t/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n\t/******/ \t\treturn getter;\n\t/******/ \t};\n\t/******/\n\t/******/ \t// Object.prototype.hasOwnProperty.call\n\t/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\t/******/\n\t/******/ \t// __webpack_public_path__\n\t/******/ \t__webpack_require__.p = \"\";\n\t/******/\n\t/******/ \t// Load entry module and return exports\n\t/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n\t/******/ })\n\t/************************************************************************/\n\t/******/ ([\n\t/* 0 */\n\t/***/ (function(module, exports) {\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t * Created by axetroy on 2017/4/4.\n\t */\n\t\n\tfunction throwError(msg) {\n\t  throw new Error(msg);\n\t}\n\t\n\tvar Roll = function () {\n\t  function Roll() {\n\t    _classCallCheck(this, Roll);\n\t\n\t    this._ = [];\n\t  }\n\t\n\t  _createClass(Roll, [{\n\t    key: 'add',\n\t    value: function add() {\n\t      var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : throwError('Item must be required');\n\t      var rank = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : throwError('Rank must be required');\n\t\n\t      var rankType = typeof rank === 'undefined' ? 'undefined' : _typeof(rank);\n\t      if (rankType !== 'number') throwError('Rank must be a Number not ' + rankType);\n\t      if (rank <= 0) throwError('require Rank>0');\n\t      this._.push({ item: item, rank: rank });\n\t    }\n\t  }, {\n\t    key: 'roll',\n\t    value: function roll() {\n\t      var totalRank = 0;\n\t      var random = Math.random();\n\t      var result = null;\n\t\n\t      var items = this._.slice().map(function (item) {\n\t        return (totalRank += item.rank) && item;\n\t      });\n\t\n\t      var start = 0;\n\t\n\t      while (items.length) {\n\t        var item = items.shift();\n\t        var end = start + item.rank / totalRank;\n\t        if (random > start && random <= end) {\n\t          result = item;\n\t          break;\n\t        }\n\t        start = end;\n\t      }\n\t\n\t      return result ? result.item : null;\n\t    }\n\t  }]);\n\t\n\t  return Roll;\n\t}();\n\t\n\tmodule.exports = Roll;\n\t\n\t/***/ })\n\t/******/ ]);\n\t});\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/roll.f241d43b.chunk.js","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Roll\"] = factory();\n\telse\n\t\troot[\"Roll\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Created by axetroy on 2017/4/4.\n */\n\nfunction throwError(msg) {\n  throw new Error(msg);\n}\n\nvar Roll = function () {\n  function Roll() {\n    _classCallCheck(this, Roll);\n\n    this._ = [];\n  }\n\n  _createClass(Roll, [{\n    key: 'add',\n    value: function add() {\n      var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : throwError('Item must be required');\n      var rank = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : throwError('Rank must be required');\n\n      var rankType = typeof rank === 'undefined' ? 'undefined' : _typeof(rank);\n      if (rankType !== 'number') throwError('Rank must be a Number not ' + rankType);\n      if (rank <= 0) throwError('require Rank>0');\n      this._.push({ item: item, rank: rank });\n    }\n  }, {\n    key: 'roll',\n    value: function roll() {\n      var totalRank = 0;\n      var random = Math.random();\n      var result = null;\n\n      var items = this._.slice().map(function (item) {\n        return (totalRank += item.rank) && item;\n      });\n\n      var start = 0;\n\n      while (items.length) {\n        var item = items.shift();\n        var end = start + item.rank / totalRank;\n        if (random > start && random <= end) {\n          result = item;\n          break;\n        }\n        start = end;\n      }\n\n      return result ? result.item : null;\n    }\n  }]);\n\n  return Roll;\n}();\n\nmodule.exports = Roll;\n\n/***/ })\n/******/ ]);\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/@axetroy/roll/dist/roll.js\n// module id = 457\n// module chunks = 9"],"sourceRoot":""}