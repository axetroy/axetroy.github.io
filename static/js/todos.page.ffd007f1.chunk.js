webpackJsonp([6,10],{570:function(e,t,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function r(n,l){try{var o=t[n](l),u=o.value}catch(e){return void a(e)}return o.done?void e(u):Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)})}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=(a(25),a(24)),i=n(c),f=(a(29),a(26)),p=n(f),d=(a(30),a(28)),m=n(d),h=(a(69),a(68)),v=n(h),b=(a(86),a(67)),g=n(b),y=(a(50),a(49)),E=n(y),w=a(19),O=n(w),_=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),k=a(1),L=n(k),x=a(22),T=a(17),S=a(33),P=a(2),D=n(P),j=a(35),C=n(j),A=a(18),B=n(A),M=a(27),Y=n(M),N=a(236),R=r(N),I=a(234),z=r(I);a(723);var J=function(e){function t(){var e,a,r,n;o(this,t);for(var l=arguments.length,s=Array(l),c=0;c<l;c++)s[c]=arguments[c];return a=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={meta:{page:1,per_page:50,total:0},currentLabel:""},n=a,u(r,n)}return s(t,e),_(t,[{key:"componentWillMount",value:function(){var e=this.state.meta,t=e.page,a=e.per_page;this.getTodoList(t,a),this.getLabels()}},{key:"getLabels",value:function(){function e(){return t.apply(this,arguments)}var t=l(O.default.mark(function e(){var t,a;return O.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.default.get("/repos/"+Y.default.config.owner+"/"+Y.default.config.todo_repo+"/labels");case 3:t=e.sent,a=t.data,this.props.setLabels(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return e}()},{key:"getTodoList",value:function(){function e(e,a){return t.apply(this,arguments)}var t=l(O.default.mark(function e(t,a){var r,n,l;return O.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],e.prev=1,e.next=4,B.default.get("/repos/"+Y.default.config.owner+"/"+Y.default.config.todo_repo+"/issues",{params:{creator:Y.default.config.owner,page:t,per_page:a,state:"all"}});case 4:n=e.sent,l=n.data,r=l,this.props.setTodo(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return e}()},{key:"render",value:function(){var e=this;return L.default.createElement(C.default,{title:"TODO List"},L.default.createElement(i.default,{spinning:!1},L.default.createElement("div",{style:{padding:"0 2.4rem"}},L.default.createElement("div",{style:{fontSize:"1.6rem"}},L.default.createElement("p",null,"我觉得我的拖延症还可以抢救一下"),L.default.createElement("p",null,"采取的措施是，用任务B去拖延任务A"),L.default.createElement("p",null,"虽然我没有完成任务A, 但是我完成了任务B"),L.default.createElement("p",null,"而完成任务的成就感支持着我进行下一个任务"),L.default.createElement("p",null,"这也是斯坦福教授John Perry提倡的“结构化拖延法”, 还得了诺贝尔奖:)")),L.default.createElement("div",{style:{margin:"2rem 0rem"}},(this.props.TODO_LABELS||[]).map(function(t){return L.default.createElement(E.default,{className:t.name===e.state.currentLabel?"active-tag":"",style:{marginTop:"1rem"},key:t.id,color:"#"+t.color,onClick:function(){t.name===e.state.currentLabel?e.setState({currentLabel:""}):e.setState({currentLabel:t.name})}},t.name)}))),L.default.createElement(g.default,{mode:"inline",className:"h100",style:{overflowY:"auto",overflowX:"hidden",borderRight:0}},this.props.TODOS.map(function(t,a){return L.default.createElement(g.default.Item,{className:"todo-list",style:{borderBottom:"1px solid #e6e6e6",backgroundColor:(t.labels||[]).findIndex(function(t){return t.name===e.state.currentLabel})>=0?"#E0E0E0":null},key:t.number+"/"+a},L.default.createElement(S.NavLink,{exact:!0,to:"/todo/"+t.number,style:{whiteSpace:"nowrap",wordBreak:"break-all",textOverflow:"ellipsis",overflow:"hidden"}},L.default.createElement(E.default,{color:"open"===t.state?"blue":"grey"},"open"===t.state?L.default.createElement("span",null," Open "):L.default.createElement("span",null,"Closed")),L.default.createElement("span",{style:{marginRight:"0.5rem"}},(0,D.default)(t.created_at).format("DD/MM/YY")),L.default.createElement("span",{style:{color:"open"!==t.state?"#9E9E9E":"inherit"}},t.title),L.default.createElement("span",{style:{float:"right"}},t.labels.map(function(e){return L.default.createElement(E.default,{key:e.id,color:"#"+e.color},e.name)}))))}),this.state.meta.total>0?L.default.createElement(g.default.Item,null,L.default.createElement(p.default,{className:"text-center"},L.default.createElement(m.default,{span:24,style:{transition:"all 1s"}},L.default.createElement(v.default,{simple:!0,onChange:function(t){return e.changePage(t,e.state.meta.per_page)},defaultCurrent:this.state.meta.page,defaultPageSize:this.state.meta.per_page,total:this.state.meta.total})))):"")))}}]),t}(k.Component);t.default=(0,x.connect)(function(e){return{TODOS:e.TODOS,TODO_LABELS:e.TODO_LABELS}},function(e){return(0,T.bindActionCreators)({setTodo:R.set,setLabels:z.set},e)})((0,S.withRouter)(J))},678:function(e,t,a){t=e.exports=a(72)(),t.push([e.id,".active-tag{margin:0 2rem;-webkit-transform:translateY(-1rem);-ms-transform:translateY(-1rem);transform:translateY(-1rem)}.todo-list:hover{background-color:#fafafa!important}",""])},723:function(e,t,a){var r=a(678);"string"==typeof r&&(r=[[e.id,r,""]]);a(83)(r,{});r.locals&&(e.exports=r.locals)}});
//# sourceMappingURL=todos.page.ffd007f1.chunk.js.map